<section class="hero top-banner">
  <div class="container ">
    <div class="columns ">
      <div class="column ">
        <h1 class="title quote">Get a quote for your project </h1>
      </div>
    </div>
    <div class="columns separation-bottom">
      <div class="column ">
        <mat-accordion class="example-headers-align">
          <form [formGroup]="firstFormGroup">
            <mat-expansion-panel class="form-group" [expanded]="step === 0" (opened)="setStep(0)" hideToggle>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  Personal data
                </mat-panel-title>
                <mat-panel-description>
                  Type your name, email and phone
                  <mat-icon>account_circle</mat-icon>
                </mat-panel-description>
              </mat-expansion-panel-header>

              <mat-form-field>
                <input matInput placeholder="Full Name" required formControlName="fullName">
              </mat-form-field>

              <mat-form-field>
                <input matInput placeholder="Enter your email" [formControl]="emailControl" required>
                <mat-error *ngIf="emailControl.invalid">{{getErrorMessage()}}</mat-error>
              </mat-form-field>

              <mat-form-field hintLabel="Max 8 characters">
                <input matInput #input maxlength="8" placeholder="Phone number" formControlName="phone">
                <mat-hint align="end">{{input.value?.length || 0}}/8</mat-hint>
              </mat-form-field>

              <mat-action-row>
                <button mat-button color="primary" (click)="nextStep()" [disabled]="!firstFormGroup.valid">Next</button>
              </mat-action-row>
            </mat-expansion-panel>
          </form>

          <form [formGroup]="secondFormGroup">
            <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)" hideToggle>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  Industry
                </mat-panel-title>
                <mat-panel-description>
                  Type your current industry area
                  <mat-icon>category</mat-icon>
                </mat-panel-description>
              </mat-expansion-panel-header>

              <mat-form-field>
                <input matInput placeholder="Industry" formControlName="industry">
                <mat-hint align="start">eg. Retail, Food Service</mat-hint>
              </mat-form-field>

              <mat-action-row>
                <button mat-button color="warn" (click)="prevStep()">Previous</button>
                <button mat-button color="primary" (click)="nextStep()" [disabled]="!secondFormGroup.valid">Next</button>
              </mat-action-row>
            </mat-expansion-panel>
          </form>

          <form [formGroup]="thirdFormGroup">
            <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)" hideToggle>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  Project
                </mat-panel-title>
                <mat-panel-description>
                  Type a brief description of your project
                  <mat-icon>message</mat-icon>
                </mat-panel-description>
              </mat-expansion-panel-header>

              <mat-form-field class="full-width">
                <textarea  matInput placeholder="Describe your project" required formControlName="description"></textarea>
              </mat-form-field>

              <mat-action-row>
                <button mat-button color="warn" (click)="prevStep()">Previous</button>
                <button mat-button color="primary" (click)="nextStep()" [disabled]="!thirdFormGroup.valid">Next</button>
              </mat-action-row>
            </mat-expansion-panel>
          </form>

          <form [formGroup]="fourthFormGroup">
            <mat-expansion-panel [expanded]="step === 3" (opened)="setStep(3)" hideToggle>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  Delivery date
                </mat-panel-title>
                <mat-panel-description>
                  Select your desired date of project delivery
                  <mat-icon>date_range</mat-icon>
                </mat-panel-description>
              </mat-expansion-panel-header>

              <mat-form-field>
                <input matInput [min]="minDate" [max]="maxDate" [matDatepicker]="picker" placeholder="Select a date" readonly formControlName="date">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker touchUi #picker></mat-datepicker>
              </mat-form-field>

              <mat-action-row>
                <button mat-button color="warn" (click)="prevStep()">Previous</button>
                <button mat-button 
                  color="primary" 
                  (click)="submitQuote()"
                  matTooltip="Click this to send us an email"
                  [matTooltipDisabled]="!messageSent"
                  [disabled]="!fourthFormGroup.valid || messageSent">
                  Submit
                </button>
              </mat-action-row>
            </mat-expansion-panel>
          </form>

        </mat-accordion>
      </div>
    </div>
  </div>


</section>